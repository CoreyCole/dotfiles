# Change prefix from Ctrl+b to Shift+Space
set -g prefix C-Space
bind C-Space send-prefix

set -g mode-keys vi

# Enable mouse support
set -g mouse on

bind h if -F '#{pane_at_left}' '' 'select-pane -L'
bind j if -F '#{pane_at_bottom}' '' 'select-pane -D'
bind k if -F '#{pane_at_top}' '' 'select-pane -U'
bind l if -F '#{pane_at_right}' '' 'select-pane -R'

# Alt+Shift+WASD for pane switching without prefix (no wrap)
bind-key -T root M-W if -F '#{pane_at_top}' '' 'select-pane -U'
bind-key -T root M-A if -F '#{pane_at_left}' '' 'select-pane -L'
bind-key -T root M-S if -F '#{pane_at_bottom}' '' 'select-pane -D'
bind-key -T root M-D if -F '#{pane_at_right}' '' 'select-pane -R'

# Alt+Shift+HJKL for splitting panes without prefix
bind-key -T root M-H split-window -h -b -c "#{pane_current_path}"
bind-key -T root M-J split-window -v -c "#{pane_current_path}"
bind-key -T root M-K split-window -v -b -c "#{pane_current_path}"
bind-key -T root M-L split-window -h -c "#{pane_current_path}"
bind-key -n M-C-h previous-window
bind-key -n M-C-k if -F '#{pane_at_top}' '' 'select-pane -U'
bind-key -n M-C-j if -F '#{pane_at_bottom}' '' 'select-pane -D'
bind-key -n M-C-l next-window

# Setup 'v' to begin selection
bind -Tcopy-mode-vi v send -X begin-selection
bind -Tcopy-mode-vi y send -X copy-pipe "reattach-to-user-namespace xcopy"

# Setup 'Enter' to use copy-pipe
unbind-key -Tcopy-mode-vi Enter
bind-key -Tcopy-mode-vi Enter send -X copy-pipe "reattach-to-user-namespace xcopy"

# Prevent mouse selection from auto-scrolling to bottom
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X stop-selection

bind c new-window -c "#{pane_current_path}"
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

set -g status-style bg='#000000',fg=white
set -g message-style bg='#121212',fg=white

# Pane border colors (lighter gray)
set -g pane-border-style fg='#090909'
set -g pane-active-border-style fg='#a0a0a0'

bind-key r source-file ~/.tmux.conf \; display "Reloaded from ~/.tmux.conf"

# Disable confirmation prompt for killing panes
bind-key x kill-pane
